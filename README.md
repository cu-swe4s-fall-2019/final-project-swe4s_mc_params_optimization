ParamBayes
==============================
[//]: # (Badges)
[![Build Status](https://travis-ci.com/cu-swe4s-fall-2019/final-project-swe4s_mc_params_optimization.svg?branch=master)](https://travis-ci.com/cu-swe4s-fall-2019/final-project-swe4s_mc_params_optimization)
[![codecov](https://codecov.io/gh/cu-swe4s-fall-2019/final-project-swe4s_mc_params_optimization/branch/master/graph/badge.svg)](https://codecov.io/gh/cu-swe4s-fall-2019/final-project-swe4s_mc_params_optimization/branch/master)

Bayesian MCMC parameterization for CSCI 7000 (swe4s) class project

## Installation

This package uses the `conda` package. Installation instructions can be found at [conda's website](https://docs.anaconda.com/anaconda/install/). 

Create a dedicated python environment for parambayes using the following command: `conda create --yes -n parambayes`

Activate parambayes environment command: `conda activate parambayes`

Conda install the following packages:

* matplotlib
* pandas
* scipy
* numpy 
* tqdm
* pyyaml
* pathlib
* pycodestyle

## Usage

### Description

The Parambayes software package uses a Bayesian inference scheme to predict force field parameters for molecular dynamics (MD) simulations. This data-driven paradigm uses a Monte Carlo algorithm to explore the parameter space (energy, size, bond distance and quadrupole moment) of a subset of select two-centered molecules (O2, N2, Br2, C2H2, C2H4, C2H6, C2F4 and F2.) The parameter distributions generated by the Monte Carlo algorithm should best reproduce the experimentally observed physical properties (density, saturation pressure, and surface tension) of the molecule of interest. The data used in this optimization procedure comes from NIST (National Institute of Standards and Technology.)  

### Parameter Optimization

1. Navigate to [parambayes](https://github.com/cu-swe4s-fall-2019/final-project-swe4s_mc_params_optimization/tree/master/parambayes).
2. Run `python create_runfile.py`. This creates a runfile in [runfiles](https://github.com/cu-swe4s-fall-2019/final-project-swe4s_mc_params_optimization/tree/master/parambayes/runfiles) folder. 
3. Finally, run `python mcmc_run_yaml.py -f <full path to runfile>`:
    1. This creates an `output` file folder with relevant graphs, as well as a copy of the runfile. 
    2. Multiple runs using different runfiles will be stored in the output folder.

### Creating a Runfile

The .yaml runfile format allows for fast and easy input parameter modification. An example runfile exists [here](https://github.com/cu-swe4s-fall-2019/final-project-swe4s_mc_params_optimization/blob/master/parambayes/runfiles/C2H2_rhol%2BPsat_test_2019-11-20.yml). Input parameters include:
* compound
* label
* number_data_points
* priors
    * Function and shape parameters for energy, size, bond distance and quadrupole moment prior distributions
* properties
    * Experimentally-tabulated values (density, saturation pressure, surface tension) to use as data
* save_traj
* steps
    * number of Monte Carlo steps
* trange 
    * range of temperature to consider
 
## Example Outputs

In progress

### Copyright

Copyright (c) 2019, Owen Madin, Lenny Fobe, Ryan Morelock

#### Acknowledgements
 
Project based on the 
[Computational Molecular Science Python Cookiecutter](https://github.com/molssi/cookiecutter-cms) version 1.1.
